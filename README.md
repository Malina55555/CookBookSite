# CookBookSite
Репозиторий с бекэндом проекта - сайта с рецептами.

необходимые зависимости: 
virtualenv (для запуска сервера в виртуальной среде), 
django (это основа сервера),
djangorestframework.

Кроме того необходимо установить базу  данных PostgreSQL.

После установки бд необходимо внести пароль от базы данных в файл project/cookbooksite/settings.py в разделе DATABASES "PASSWORD" = ...

Теперь подготовим базу данных для первого запуска сервера:

Активируем виртуальную среду (в каталоге, содержащем папку project) в терминале пишем
virtualenv --promt="(venv:tutorial)" ./venv/
venv\Scripts\activate

(После первой активации venv, потом можно использовать сразу команду ..\venv\Scripts\activate, но уже из папки project)

Для работы БД мигрируем шаблоны (это действие создаст таблицы в базе данных):
py ./manage.py makemigrations 
py ./manage.py migrate
(объект, созданный по шаблону = строка соответствующей таблицы в бд)

Перед первым запуском крайне рекомендуется внести хотя бы по одной строчке в каждую из таблиц, это можно сделать вручную (черезpgAdmin4, который устанавливается при скачивании базы данных на Windows) или же через ./manage.py shell. 
(Если все таблицы пусты, то могут возникнуть проблемы с открытием некоторых адресов)
Для первого способа предоставим такой код:
INSERT INTO recipes_usermodel VALUES (1, 1, "Просто Антон", "ya_anton111@da", "11229900");
INSERT INTO recipes_recipemodel VALUES(1, 1, 'Омлет', '2 яйца', 'Разбить яйца в сковородку и жарить до готовности.', 'Завтраки');
INSERT INTO recipes_savemodel VALUES(1, 1, 1);
INSERT INTO recipes_commentmodel VALUES(1, 1, 'Пальчики оближешь', 1);

Теперь можно запусить тестовый сервер в папке project в виртуальной среде по команде:
py manage.py runserver  (автоматически запускается на 127.0.0.1:8000) 

Теперь можно получать и добавлять информацию через сервер-бэкенда, посредством запросов, окончания которых описаны в файле project/recipes/urls.py

Например, если ввести при запущенном сервере в поисковую строку браузера http://127.0.0.1:8000/allrecipes  - будут выведены все рецепты из базы данных в формате JSON.


